2025-03-10 16:33:37 -Starting ServiceApplication on LAPTOP-H0PN2NG1 with PID 31248 (F:\JavaProject\im-system\im-service\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 16:33:37 -The following profiles are active: dev
2025-03-10 16:33:40 -Multiple Spring Data modules found, entering strict repository configuration mode!
2025-03-10 16:33:40 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-10 16:33:40 -Finished Spring Data repository scanning in 11ms. Found 0 Redis repository interfaces.
2025-03-10 16:33:40 -Tomcat initialized with port(s): 8000 (http)
2025-03-10 16:33:40 -Initializing ProtocolHandler ["http-nio-8000"]
2025-03-10 16:33:40 -Starting service [Tomcat]
2025-03-10 16:33:40 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 16:33:40 -Initializing Spring embedded WebApplicationContext
2025-03-10 16:33:40 -Root WebApplicationContext: initialization completed in 3463 ms
2025-03-10 16:33:42 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 16:33:42 -Starting ProtocolHandler ["http-nio-8000"]
2025-03-10 16:33:42 -Tomcat started on port(s): 8000 (http) with context path ''
2025-03-10 16:33:42 -Attempting to connect to: [192.168.111.130:5672]
2025-03-10 16:33:42 -Created new connection: rabbitConnectionFactory#66b59b7d:0/SimpleConnection@72543547 [delegate=amqp://guest@192.168.111.130:5672/, localPort= 4428]
2025-03-10 16:33:42 -Started ServiceApplication in 6.076 seconds (JVM running for 6.749)
2025-03-10 16:37:11 -Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-10 16:37:11 -Initializing Servlet 'dispatcherServlet'
2025-03-10 16:37:11 -Completed initialization in 5 ms
2025-03-10 16:37:29 -Waiting for workers to finish.
2025-03-10 16:37:29 -Successfully waited for workers to finish.
2025-03-10 16:37:29 -Waiting for workers to finish.
2025-03-10 16:37:30 -Successfully waited for workers to finish.
2025-03-10 16:37:30 -Shutdown ignored - container is not active already
2025-03-10 16:37:30 -Shutdown ignored - container is not active already
2025-03-10 16:37:30 -Shutting down ExecutorService 'applicationTaskExecutor'
2025-03-10 16:37:39 -Starting ServiceApplication on LAPTOP-H0PN2NG1 with PID 4368 (F:\JavaProject\im-system\im-service\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 16:37:39 -The following profiles are active: dev
2025-03-10 16:37:39 -Multiple Spring Data modules found, entering strict repository configuration mode!
2025-03-10 16:37:39 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-10 16:37:39 -Finished Spring Data repository scanning in 10ms. Found 0 Redis repository interfaces.
2025-03-10 16:37:40 -Tomcat initialized with port(s): 8000 (http)
2025-03-10 16:37:40 -Initializing ProtocolHandler ["http-nio-8000"]
2025-03-10 16:37:40 -Starting service [Tomcat]
2025-03-10 16:37:40 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 16:37:40 -Initializing Spring embedded WebApplicationContext
2025-03-10 16:37:40 -Root WebApplicationContext: initialization completed in 1077 ms
2025-03-10 16:37:42 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 16:37:43 -Starting ProtocolHandler ["http-nio-8000"]
2025-03-10 16:37:43 -Tomcat started on port(s): 8000 (http) with context path ''
2025-03-10 16:37:43 -Attempting to connect to: [192.168.111.130:5672]
2025-03-10 16:37:43 -Created new connection: rabbitConnectionFactory#2b960a7:0/SimpleConnection@5fcd1f0a [delegate=amqp://guest@192.168.111.130:5672/, localPort= 5913]
2025-03-10 16:37:43 -Started ServiceApplication in 4.948 seconds (JVM running for 6.289)
2025-03-10 16:37:50 -Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-10 16:37:50 -Initializing Servlet 'dispatcherServlet'
2025-03-10 16:37:50 -Completed initialization in 8 ms
2025-03-10 16:39:48 -Waiting for workers to finish.
2025-03-10 16:39:49 -Successfully waited for workers to finish.
2025-03-10 16:39:49 -Waiting for workers to finish.
2025-03-10 16:39:50 -Successfully waited for workers to finish.
2025-03-10 16:39:50 -Shutdown ignored - container is not active already
2025-03-10 16:39:50 -Shutdown ignored - container is not active already
2025-03-10 16:39:50 -Shutting down ExecutorService 'applicationTaskExecutor'
2025-03-10 16:40:04 -Starting ServiceApplication on LAPTOP-H0PN2NG1 with PID 23356 (F:\JavaProject\im-system\im-service\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 16:40:04 -The following profiles are active: dev
2025-03-10 16:40:05 -Multiple Spring Data modules found, entering strict repository configuration mode!
2025-03-10 16:40:05 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-10 16:40:05 -Finished Spring Data repository scanning in 10ms. Found 0 Redis repository interfaces.
2025-03-10 16:40:05 -Tomcat initialized with port(s): 8000 (http)
2025-03-10 16:40:05 -Initializing ProtocolHandler ["http-nio-8000"]
2025-03-10 16:40:05 -Starting service [Tomcat]
2025-03-10 16:40:05 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 16:40:05 -Initializing Spring embedded WebApplicationContext
2025-03-10 16:40:05 -Root WebApplicationContext: initialization completed in 1116 ms
2025-03-10 16:40:07 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 16:40:07 -Starting ProtocolHandler ["http-nio-8000"]
2025-03-10 16:40:07 -Tomcat started on port(s): 8000 (http) with context path ''
2025-03-10 16:40:07 -Attempting to connect to: [192.168.111.130:5672]
2025-03-10 16:40:07 -Created new connection: rabbitConnectionFactory#ae2db25:0/SimpleConnection@1903b5d [delegate=amqp://guest@192.168.111.130:5672/, localPort= 6206]
2025-03-10 16:40:07 -Started ServiceApplication in 3.563 seconds (JVM running for 4.339)
2025-03-10 16:40:17 -Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-10 16:40:17 -Initializing Servlet 'dispatcherServlet'
2025-03-10 16:40:17 -Completed initialization in 4 ms
2025-03-10 16:40:48 -HikariPool-1 - Starting...
2025-03-10 16:40:49 -HikariPool-1 - Start completed.
2025-03-10 16:40:55 -Waiting for workers to finish.
2025-03-10 16:40:55 -Successfully waited for workers to finish.
2025-03-10 16:40:55 -Waiting for workers to finish.
2025-03-10 16:40:56 -Successfully waited for workers to finish.
2025-03-10 16:40:57 -Shutdown ignored - container is not active already
2025-03-10 16:40:57 -Shutdown ignored - container is not active already
2025-03-10 16:40:57 -Shutting down ExecutorService 'applicationTaskExecutor'
2025-03-10 16:41:01 -HikariPool-1 - Shutdown initiated...
2025-03-10 16:41:01 -HikariPool-1 - Shutdown completed.
2025-03-10 16:41:07 -Starting ServiceApplication on LAPTOP-H0PN2NG1 with PID 19192 (F:\JavaProject\im-system\im-service\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 16:41:07 -The following profiles are active: dev
2025-03-10 16:41:07 -Multiple Spring Data modules found, entering strict repository configuration mode!
2025-03-10 16:41:07 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-10 16:41:07 -Finished Spring Data repository scanning in 12ms. Found 0 Redis repository interfaces.
2025-03-10 16:41:08 -Tomcat initialized with port(s): 8000 (http)
2025-03-10 16:41:08 -Initializing ProtocolHandler ["http-nio-8000"]
2025-03-10 16:41:08 -Starting service [Tomcat]
2025-03-10 16:41:08 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 16:41:08 -Initializing Spring embedded WebApplicationContext
2025-03-10 16:41:08 -Root WebApplicationContext: initialization completed in 1046 ms
2025-03-10 16:41:10 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 16:41:11 -Starting ProtocolHandler ["http-nio-8000"]
2025-03-10 16:41:11 -Tomcat started on port(s): 8000 (http) with context path ''
2025-03-10 16:41:11 -Attempting to connect to: [192.168.111.130:5672]
2025-03-10 16:41:11 -Created new connection: rabbitConnectionFactory#1de9b505:0/SimpleConnection@4fc165f6 [delegate=amqp://guest@192.168.111.130:5672/, localPort= 6560]
2025-03-10 16:41:11 -Started ServiceApplication in 4.682 seconds (JVM running for 5.523)
2025-03-10 16:41:13 -Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-10 16:41:13 -Initializing Servlet 'dispatcherServlet'
2025-03-10 16:41:13 -Completed initialization in 9 ms
2025-03-10 16:41:54 -Waiting for workers to finish.
2025-03-10 16:41:54 -HikariPool-1 - Starting...
2025-03-10 16:41:54 -HikariPool-1 - Start completed.
2025-03-10 16:41:55 -Successfully waited for workers to finish.
2025-03-10 16:41:55 -Waiting for workers to finish.
2025-03-10 16:41:56 -Successfully waited for workers to finish.
2025-03-10 16:41:56 -Shutdown ignored - container is not active already
2025-03-10 16:41:56 -Shutdown ignored - container is not active already
2025-03-10 16:41:56 -Shutting down ExecutorService 'applicationTaskExecutor'
2025-03-10 16:42:05 -Starting ServiceApplication on LAPTOP-H0PN2NG1 with PID 33608 (F:\JavaProject\im-system\im-service\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 16:42:05 -The following profiles are active: dev
2025-03-10 16:42:05 -Multiple Spring Data modules found, entering strict repository configuration mode!
2025-03-10 16:42:05 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-10 16:42:05 -Finished Spring Data repository scanning in 20ms. Found 0 Redis repository interfaces.
2025-03-10 16:42:06 -Tomcat initialized with port(s): 8000 (http)
2025-03-10 16:42:06 -Initializing ProtocolHandler ["http-nio-8000"]
2025-03-10 16:42:06 -Starting service [Tomcat]
2025-03-10 16:42:06 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 16:42:06 -Initializing Spring embedded WebApplicationContext
2025-03-10 16:42:06 -Root WebApplicationContext: initialization completed in 1169 ms
2025-03-10 16:42:08 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 16:42:08 -Starting ProtocolHandler ["http-nio-8000"]
2025-03-10 16:42:08 -Tomcat started on port(s): 8000 (http) with context path ''
2025-03-10 16:42:08 -Attempting to connect to: [192.168.111.130:5672]
2025-03-10 16:42:09 -Created new connection: rabbitConnectionFactory#7b122839:0/SimpleConnection@545b5ed0 [delegate=amqp://guest@192.168.111.130:5672/, localPort= 7172]
2025-03-10 16:42:09 -Started ServiceApplication in 4.545 seconds (JVM running for 5.557)
2025-03-10 16:42:12 -Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-10 16:42:12 -Initializing Servlet 'dispatcherServlet'
2025-03-10 16:42:12 -Completed initialization in 9 ms
2025-03-10 16:42:16 -HikariPool-1 - Starting...
2025-03-10 16:42:17 -HikariPool-1 - Start completed.
2025-03-10 16:43:53 -HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=51s30ms318µs700ns).
2025-03-10 16:47:20 -Waiting for workers to finish.
2025-03-10 16:47:20 -Successfully waited for workers to finish.
2025-03-10 16:47:20 -Waiting for workers to finish.
2025-03-10 16:47:20 -Successfully waited for workers to finish.
2025-03-10 16:47:21 -Shutdown ignored - container is not active already
2025-03-10 16:47:21 -Shutdown ignored - container is not active already
2025-03-10 16:47:21 -Shutting down ExecutorService 'applicationTaskExecutor'
2025-03-10 16:47:25 -HikariPool-1 - Shutdown initiated...
2025-03-10 16:47:25 -HikariPool-1 - Shutdown completed.
2025-03-10 16:48:20 -Starting ServiceApplication on LAPTOP-H0PN2NG1 with PID 2512 (F:\JavaProject\im-system\im-service\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 16:48:20 -The following profiles are active: dev
2025-03-10 16:48:21 -Multiple Spring Data modules found, entering strict repository configuration mode!
2025-03-10 16:48:21 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-10 16:48:21 -Finished Spring Data repository scanning in 11ms. Found 0 Redis repository interfaces.
2025-03-10 16:48:21 -Tomcat initialized with port(s): 8000 (http)
2025-03-10 16:48:21 -Initializing ProtocolHandler ["http-nio-8000"]
2025-03-10 16:48:21 -Starting service [Tomcat]
2025-03-10 16:48:21 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 16:48:22 -Initializing Spring embedded WebApplicationContext
2025-03-10 16:48:22 -Root WebApplicationContext: initialization completed in 1051 ms
2025-03-10 16:48:23 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 16:48:23 -Starting ProtocolHandler ["http-nio-8000"]
2025-03-10 16:48:23 -Tomcat started on port(s): 8000 (http) with context path ''
2025-03-10 16:48:23 -Attempting to connect to: [192.168.111.130:5672]
2025-03-10 16:48:23 -Created new connection: rabbitConnectionFactory#1e9469b8:0/SimpleConnection@7364eed1 [delegate=amqp://guest@192.168.111.130:5672/, localPort= 8455]
2025-03-10 16:48:23 -Started ServiceApplication in 3.255 seconds (JVM running for 3.979)
2025-03-10 16:48:30 -Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-10 16:48:30 -Initializing Servlet 'dispatcherServlet'
2025-03-10 16:48:30 -Completed initialization in 5 ms
2025-03-10 16:48:30 -HikariPool-1 - Starting...
2025-03-10 16:48:31 -HikariPool-1 - Start completed.
2025-03-10 16:49:22 -Waiting for workers to finish.
2025-03-10 16:49:23 -Successfully waited for workers to finish.
2025-03-10 16:49:23 -Waiting for workers to finish.
2025-03-10 16:49:24 -Successfully waited for workers to finish.
2025-03-10 16:49:24 -Shutdown ignored - container is not active already
2025-03-10 16:49:24 -Shutdown ignored - container is not active already
2025-03-10 16:49:24 -Shutting down ExecutorService 'applicationTaskExecutor'
2025-03-10 17:19:10 -Starting ServiceApplication on LAPTOP-H0PN2NG1 with PID 27576 (F:\JavaProject\im-system\im-service\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 17:19:10 -The following profiles are active: dev
2025-03-10 17:19:12 -Multiple Spring Data modules found, entering strict repository configuration mode!
2025-03-10 17:19:12 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-10 17:19:12 -Finished Spring Data repository scanning in 13ms. Found 0 Redis repository interfaces.
2025-03-10 17:19:13 -Tomcat initialized with port(s): 8000 (http)
2025-03-10 17:19:13 -Initializing ProtocolHandler ["http-nio-8000"]
2025-03-10 17:19:13 -Starting service [Tomcat]
2025-03-10 17:19:13 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 17:19:13 -Initializing Spring embedded WebApplicationContext
2025-03-10 17:19:13 -Root WebApplicationContext: initialization completed in 2390 ms
2025-03-10 17:19:15 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 17:19:16 -Starting ProtocolHandler ["http-nio-8000"]
2025-03-10 17:19:16 -Tomcat started on port(s): 8000 (http) with context path ''
2025-03-10 17:19:16 -Attempting to connect to: [192.168.111.130:5672]
2025-03-10 17:19:16 -Created new connection: rabbitConnectionFactory#459f703f:0/SimpleConnection@21de60a7 [delegate=amqp://guest@192.168.111.130:5672/, localPort= 11998]
2025-03-10 17:19:16 -Started ServiceApplication in 6.207 seconds (JVM running for 7.23)
2025-03-10 17:22:01 -Waiting for workers to finish.
2025-03-10 17:22:02 -Successfully waited for workers to finish.
2025-03-10 17:22:02 -Waiting for workers to finish.
2025-03-10 17:22:02 -Successfully waited for workers to finish.
2025-03-10 17:22:02 -Shutdown ignored - container is not active already
2025-03-10 17:22:02 -Shutdown ignored - container is not active already
2025-03-10 17:22:02 -Shutting down ExecutorService 'applicationTaskExecutor'
2025-03-10 17:22:30 -Starting ServiceApplication on LAPTOP-H0PN2NG1 with PID 29040 (F:\JavaProject\im-system\im-service\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 17:22:30 -The following profiles are active: dev
2025-03-10 17:22:30 -Multiple Spring Data modules found, entering strict repository configuration mode!
2025-03-10 17:22:30 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-10 17:22:30 -Finished Spring Data repository scanning in 12ms. Found 0 Redis repository interfaces.
2025-03-10 17:22:31 -Tomcat initialized with port(s): 8000 (http)
2025-03-10 17:22:31 -Initializing ProtocolHandler ["http-nio-8000"]
2025-03-10 17:22:31 -Starting service [Tomcat]
2025-03-10 17:22:31 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 17:22:31 -Initializing Spring embedded WebApplicationContext
2025-03-10 17:22:31 -Root WebApplicationContext: initialization completed in 1077 ms
2025-03-10 17:22:33 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 17:22:33 -Starting ProtocolHandler ["http-nio-8000"]
2025-03-10 17:22:33 -Tomcat started on port(s): 8000 (http) with context path ''
2025-03-10 17:22:33 -Attempting to connect to: [192.168.111.130:5672]
2025-03-10 17:22:33 -Created new connection: rabbitConnectionFactory#53311681:0/SimpleConnection@4b8137c5 [delegate=amqp://guest@192.168.111.130:5672/, localPort= 12278]
2025-03-10 17:22:33 -Started ServiceApplication in 4.368 seconds (JVM running for 5.128)
2025-03-10 17:22:47 -Waiting for workers to finish.
2025-03-10 17:22:47 -Successfully waited for workers to finish.
2025-03-10 17:22:47 -Waiting for workers to finish.
2025-03-10 17:22:48 -Successfully waited for workers to finish.
2025-03-10 17:22:49 -Shutdown ignored - container is not active already
2025-03-10 17:22:49 -Shutdown ignored - container is not active already
2025-03-10 17:22:49 -Shutting down ExecutorService 'applicationTaskExecutor'
2025-03-10 17:23:33 -Starting ServiceApplication on LAPTOP-H0PN2NG1 with PID 29800 (F:\JavaProject\im-system\im-service\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 17:23:33 -The following profiles are active: dev
2025-03-10 17:23:33 -Multiple Spring Data modules found, entering strict repository configuration mode!
2025-03-10 17:23:33 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-10 17:23:33 -Finished Spring Data repository scanning in 12ms. Found 0 Redis repository interfaces.
2025-03-10 17:23:34 -Tomcat initialized with port(s): 8000 (http)
2025-03-10 17:23:34 -Initializing ProtocolHandler ["http-nio-8000"]
2025-03-10 17:23:34 -Starting service [Tomcat]
2025-03-10 17:23:34 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 17:23:34 -Initializing Spring embedded WebApplicationContext
2025-03-10 17:23:34 -Root WebApplicationContext: initialization completed in 978 ms
2025-03-10 17:23:36 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 17:23:37 -Starting ProtocolHandler ["http-nio-8000"]
2025-03-10 17:23:37 -Tomcat started on port(s): 8000 (http) with context path ''
2025-03-10 17:23:37 -Attempting to connect to: [192.168.111.130:5672]
2025-03-10 17:23:37 -Created new connection: rabbitConnectionFactory#6a818392:0/SimpleConnection@69de5bed [delegate=amqp://guest@192.168.111.130:5672/, localPort= 12393]
2025-03-10 17:23:37 -Started ServiceApplication in 4.525 seconds (JVM running for 5.238)
2025-03-10 17:23:39 -Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-10 17:23:39 -Initializing Servlet 'dispatcherServlet'
2025-03-10 17:23:39 -Completed initialization in 9 ms
2025-03-10 17:37:24 -HikariPool-1 - Starting...
2025-03-10 17:37:24 -HikariPool-1 - Start completed.
2025-03-10 17:43:21 -CHAT MSG FORM QUEUE ::: {"clientType":1,"messageBody":"123","groupId":"123123","appId":10000,"messageId":"fdfa5750-8de9-447f-8afd-c97c5b05142b","imei":"500","fromId":"123","command":2104}
2025-03-10 17:43:21 -msg ack ,msgId:fdfa5750-8de9-447f-8afd-c97c5b05142b,checkResult:40006
2025-03-10 17:43:21 -send message == {"appId":10000,"clientType":1,"command":2104,"data":{"msg":"该用户不在群内","code":40006,"data":{"messageId":"fdfa5750-8de9-447f-8afd-c97c5b05142b"},"ok":false},"imei":"500","toId":"123"}
2025-03-10 17:43:21 -Channel shutdown: channel error; protocol method: #method<channel.close>(reply-code=406, reply-text=PRECONDITION_FAILED - unknown delivery tag 1, class-id=60, method-id=80)
2025-03-10 17:43:22 -Restarting Consumer@b5c6a30: tags=[[amq.ctag-KNiBSk4mWhWWuNHEI0LEwQ]], channel=Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@192.168.111.130:5672/,1), conn: Proxy@5a7df831 Shared Rabbit Connection: SimpleConnection@69de5bed [delegate=amqp://guest@192.168.111.130:5672/, localPort= 12393], acknowledgeMode=AUTO local queue size=0
2025-03-10 17:43:22 -CHAT MSG FORM QUEUE ::: {"conversationType":1,"clientType":1,"appId":10000,"imei":"500","fromId":"123","command":2106}
2025-03-10 17:43:34 -CHAT MSG FORM QUEUE ::: {"clientType":1,"messageBody":"123","groupId":"123123","appId":10000,"messageId":"8174ae06-ce5c-4546-8e66-b7fec9ccd74d","imei":"600","fromId":"444","command":2104}
2025-03-10 17:43:34 -msg ack ,msgId:8174ae06-ce5c-4546-8e66-b7fec9ccd74d,checkResult:40006
2025-03-10 17:43:34 -send message == {"appId":10000,"clientType":1,"command":2104,"data":{"msg":"该用户不在群内","code":40006,"data":{"messageId":"8174ae06-ce5c-4546-8e66-b7fec9ccd74d"},"ok":false},"imei":"600","toId":"444"}
2025-03-10 17:43:34 -Channel shutdown: channel error; protocol method: #method<channel.close>(reply-code=406, reply-text=PRECONDITION_FAILED - unknown delivery tag 2, class-id=60, method-id=80)
2025-03-10 17:43:35 -Restarting Consumer@681a3b2a: tags=[[amq.ctag-3smrzqvkcRlvmARcsSOe9A]], channel=Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@192.168.111.130:5672/,3), conn: Proxy@5a7df831 Shared Rabbit Connection: SimpleConnection@69de5bed [delegate=amqp://guest@192.168.111.130:5672/, localPort= 12393], acknowledgeMode=AUTO local queue size=0
2025-03-10 17:43:35 -CHAT MSG FORM QUEUE ::: {"conversationType":1,"clientType":1,"appId":10000,"imei":"600","fromId":"444","command":2106}
2025-03-10 17:43:37 -CHAT MSG FORM QUEUE ::: {"clientType":1,"messageBody":"123","groupId":"123123","appId":10000,"messageId":"5bedb4f0-5d25-4958-982d-8c5f336b7ddc","imei":"400","fromId":"423","command":2104}
2025-03-10 17:43:37 -msg ack ,msgId:5bedb4f0-5d25-4958-982d-8c5f336b7ddc,checkResult:40006
2025-03-10 17:43:37 -send message == {"appId":10000,"clientType":1,"command":2104,"data":{"msg":"该用户不在群内","code":40006,"data":{"messageId":"5bedb4f0-5d25-4958-982d-8c5f336b7ddc"},"ok":false},"imei":"400","toId":"423"}
2025-03-10 17:43:37 -Channel shutdown: channel error; protocol method: #method<channel.close>(reply-code=406, reply-text=PRECONDITION_FAILED - unknown delivery tag 2, class-id=60, method-id=80)
2025-03-10 17:43:38 -Restarting Consumer@569b5a09: tags=[[amq.ctag-aZlnJgX2s0RJRR4bhxgvtQ]], channel=Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@192.168.111.130:5672/,4), conn: Proxy@5a7df831 Shared Rabbit Connection: SimpleConnection@69de5bed [delegate=amqp://guest@192.168.111.130:5672/, localPort= 12393], acknowledgeMode=AUTO local queue size=0
2025-03-10 17:43:38 -CHAT MSG FORM QUEUE ::: {"conversationType":1,"clientType":1,"appId":10000,"imei":"400","fromId":"423","command":2106}
2025-03-10 17:45:26 -CHAT MSG FORM QUEUE ::: {"clientType":1,"messageBody":"123","groupId":"123123","appId":10000,"messageId":"50900ff3-b572-4975-8381-f3b3aae8ab3c","imei":"500","fromId":"123","command":2104}
2025-03-10 17:45:56 -msg ack ,msgId:50900ff3-b572-4975-8381-f3b3aae8ab3c,checkResult:40006
2025-03-10 17:45:56 -send message == {"appId":10000,"clientType":1,"command":2104,"data":{"msg":"该用户不在群内","code":40006,"data":{"messageId":"50900ff3-b572-4975-8381-f3b3aae8ab3c"},"ok":false},"imei":"500","toId":"123"}
2025-03-10 17:45:56 -Channel shutdown: channel error; protocol method: #method<channel.close>(reply-code=406, reply-text=PRECONDITION_FAILED - unknown delivery tag 2, class-id=60, method-id=80)
2025-03-10 17:45:57 -Restarting Consumer@18f40d8f: tags=[[amq.ctag-octfEAfhLVYbHl0i4oZF3A]], channel=Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@192.168.111.130:5672/,5), conn: Proxy@5a7df831 Shared Rabbit Connection: SimpleConnection@69de5bed [delegate=amqp://guest@192.168.111.130:5672/, localPort= 12393], acknowledgeMode=AUTO local queue size=0
2025-03-10 17:45:57 -CHAT MSG FORM QUEUE ::: {"conversationType":1,"clientType":1,"appId":10000,"imei":"500","fromId":"123","command":2106}
2025-03-10 17:48:45 -Waiting for workers to finish.
2025-03-10 17:48:46 -Successfully waited for workers to finish.
2025-03-10 17:48:46 -Waiting for workers to finish.
2025-03-10 17:48:46 -Successfully waited for workers to finish.
2025-03-10 17:48:47 -Shutdown ignored - container is not active already
2025-03-10 17:48:47 -Shutdown ignored - container is not active already
2025-03-10 17:48:47 -Shutting down ExecutorService 'applicationTaskExecutor'
2025-03-10 17:48:55 -Starting ServiceApplication on LAPTOP-H0PN2NG1 with PID 1692 (F:\JavaProject\im-system\im-service\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 17:48:55 -The following profiles are active: dev
2025-03-10 17:48:56 -Multiple Spring Data modules found, entering strict repository configuration mode!
2025-03-10 17:48:56 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-10 17:48:56 -Finished Spring Data repository scanning in 11ms. Found 0 Redis repository interfaces.
2025-03-10 17:48:57 -Tomcat initialized with port(s): 8000 (http)
2025-03-10 17:48:57 -Initializing ProtocolHandler ["http-nio-8000"]
2025-03-10 17:48:57 -Starting service [Tomcat]
2025-03-10 17:48:57 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 17:48:57 -Initializing Spring embedded WebApplicationContext
2025-03-10 17:48:57 -Root WebApplicationContext: initialization completed in 1390 ms
2025-03-10 17:48:59 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 17:48:59 -Starting ProtocolHandler ["http-nio-8000"]
2025-03-10 17:48:59 -Tomcat started on port(s): 8000 (http) with context path ''
2025-03-10 17:48:59 -Attempting to connect to: [192.168.111.130:5672]
2025-03-10 17:48:59 -Created new connection: rabbitConnectionFactory#29a98d9f:0/SimpleConnection@6eb089e6 [delegate=amqp://guest@192.168.111.130:5672/, localPort= 2083]
2025-03-10 17:48:59 -Started ServiceApplication in 4.185 seconds (JVM running for 4.992)
2025-03-10 17:49:52 -CHAT MSG FORM QUEUE ::: {"clientType":1,"messageBody":"123","groupId":"123123","appId":10000,"messageId":"a893f6e4-8d4d-4110-82a5-811ce28a19cb","imei":"400","fromId":"123","command":2104}
2025-03-10 17:49:54 -HikariPool-1 - Starting...
2025-03-10 17:49:54 -HikariPool-1 - Start completed.
2025-03-10 17:49:58 -msg ack ,msgId:a893f6e4-8d4d-4110-82a5-811ce28a19cb,checkResult:40006
2025-03-10 17:49:59 -send message == {"appId":10000,"clientType":1,"command":2104,"data":{"msg":"该用户不在群内","code":40006,"data":{"messageId":"a893f6e4-8d4d-4110-82a5-811ce28a19cb"},"ok":false},"imei":"400","toId":"123"}
2025-03-10 17:49:59 -Channel shutdown: channel error; protocol method: #method<channel.close>(reply-code=406, reply-text=PRECONDITION_FAILED - unknown delivery tag 1, class-id=60, method-id=80)
2025-03-10 17:50:00 -Restarting Consumer@1e1232cf: tags=[[amq.ctag-fZRBVqO9PjbiW9NtwvHBow]], channel=Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@192.168.111.130:5672/,1), conn: Proxy@42507640 Shared Rabbit Connection: SimpleConnection@6eb089e6 [delegate=amqp://guest@192.168.111.130:5672/, localPort= 2083], acknowledgeMode=AUTO local queue size=0
2025-03-10 17:50:00 -CHAT MSG FORM QUEUE ::: {"conversationType":1,"clientType":1,"appId":10000,"imei":"400","fromId":"123","command":2106}
2025-03-10 17:50:23 -CHAT MSG FORM QUEUE ::: {"clientType":1,"messageBody":"123","groupId":"123123","appId":10000,"messageId":"7825df8f-e3f1-4501-818f-74be3d67a8f5","imei":"400","fromId":"123","command":2104}
2025-03-10 17:51:32 -msg ack ,msgId:7825df8f-e3f1-4501-818f-74be3d67a8f5,checkResult:40006
2025-03-10 17:51:32 -send message == {"appId":10000,"clientType":1,"command":2104,"data":{"msg":"该用户不在群内","code":40006,"data":{"messageId":"7825df8f-e3f1-4501-818f-74be3d67a8f5"},"ok":false},"imei":"400","toId":"123"}
2025-03-10 17:51:32 -Channel shutdown: channel error; protocol method: #method<channel.close>(reply-code=406, reply-text=PRECONDITION_FAILED - unknown delivery tag 2, class-id=60, method-id=80)
2025-03-10 17:51:33 -Restarting Consumer@3087dfec: tags=[[amq.ctag-K9bT9AZYoMmdesWmq7Z46Q]], channel=Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@192.168.111.130:5672/,3), conn: Proxy@42507640 Shared Rabbit Connection: SimpleConnection@6eb089e6 [delegate=amqp://guest@192.168.111.130:5672/, localPort= 2083], acknowledgeMode=AUTO local queue size=0
2025-03-10 17:51:33 -CHAT MSG FORM QUEUE ::: {"conversationType":1,"clientType":1,"appId":10000,"imei":"400","fromId":"123","command":2106}
2025-03-10 17:51:36 -CHAT MSG FORM QUEUE ::: {"clientType":1,"messageBody":"123","groupId":"123123","appId":10000,"messageId":"cdd552a0-ed42-40ed-965e-70f8a8bdd6a4","imei":"400","fromId":"123","command":2104}
2025-03-10 17:52:00 -msg ack ,msgId:cdd552a0-ed42-40ed-965e-70f8a8bdd6a4,checkResult:40006
2025-03-10 17:52:00 -send message == {"appId":10000,"clientType":1,"command":2104,"data":{"msg":"该用户不在群内","code":40006,"data":{"messageId":"cdd552a0-ed42-40ed-965e-70f8a8bdd6a4"},"ok":false},"imei":"400","toId":"123"}
2025-03-10 17:52:00 -Channel shutdown: channel error; protocol method: #method<channel.close>(reply-code=406, reply-text=PRECONDITION_FAILED - unknown delivery tag 2, class-id=60, method-id=80)
2025-03-10 17:52:01 -Waiting for workers to finish.
2025-03-10 17:52:01 -Successfully waited for workers to finish.
2025-03-10 17:52:01 -Waiting for workers to finish.
2025-03-10 17:52:01 -Successfully waited for workers to finish.
2025-03-10 17:52:02 -Shutdown ignored - container is not active already
2025-03-10 17:52:02 -Shutdown ignored - container is not active already
2025-03-10 17:52:02 -Shutting down ExecutorService 'applicationTaskExecutor'
2025-03-10 17:52:06 -HikariPool-1 - Shutdown initiated...
2025-03-10 17:52:06 -HikariPool-1 - Shutdown completed.
2025-03-10 17:52:22 -Starting ServiceApplication on LAPTOP-H0PN2NG1 with PID 20164 (F:\JavaProject\im-system\im-service\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 17:52:22 -The following profiles are active: dev
2025-03-10 17:52:22 -Multiple Spring Data modules found, entering strict repository configuration mode!
2025-03-10 17:52:22 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-10 17:52:22 -Finished Spring Data repository scanning in 10ms. Found 0 Redis repository interfaces.
2025-03-10 17:52:23 -Tomcat initialized with port(s): 8000 (http)
2025-03-10 17:52:23 -Initializing ProtocolHandler ["http-nio-8000"]
2025-03-10 17:52:23 -Starting service [Tomcat]
2025-03-10 17:52:23 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 17:52:23 -Initializing Spring embedded WebApplicationContext
2025-03-10 17:52:23 -Root WebApplicationContext: initialization completed in 962 ms
2025-03-10 17:52:24 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 17:52:24 -Starting ProtocolHandler ["http-nio-8000"]
2025-03-10 17:52:24 -Tomcat started on port(s): 8000 (http) with context path ''
2025-03-10 17:52:24 -Attempting to connect to: [192.168.111.130:5672]
2025-03-10 17:52:24 -Created new connection: rabbitConnectionFactory#5f69e2b:0/SimpleConnection@10850d17 [delegate=amqp://guest@192.168.111.130:5672/, localPort= 2601]
2025-03-10 17:52:25 -CHAT MSG FORM QUEUE ::: {"conversationType":1,"clientType":1,"appId":10000,"imei":"400","fromId":"123","command":2106}
2025-03-10 17:52:25 -Started ServiceApplication in 3.083 seconds (JVM running for 3.699)
2025-03-10 17:52:30 -CHAT MSG FORM QUEUE ::: {"clientType":1,"messageBody":"123","groupId":"123123","appId":10000,"messageId":"ddc27487-5e31-46d1-b428-dcc8bb0e032a","imei":"400","fromId":"123","command":2104}
2025-03-10 17:52:30 -HikariPool-1 - Starting...
2025-03-10 17:52:30 -HikariPool-1 - Start completed.
2025-03-10 17:52:30 -msg ack ,msgId:ddc27487-5e31-46d1-b428-dcc8bb0e032a,checkResult:200
2025-03-10 17:52:31 -send message == {"appId":10000,"clientType":1,"command":2104,"data":{"msg":"success","code":200,"data":{"messageId":"ddc27487-5e31-46d1-b428-dcc8bb0e032a"},"ok":true},"imei":"400","toId":"123"}
2025-03-10 17:52:31 -send message == {"appId":10000,"clientType":1,"command":2104,"data":{"clientType":1,"messageBody":"123","appId":10000,"groupId":"123123","imei":"400","messageId":"ddc27487-5e31-46d1-b428-dcc8bb0e032a","fromId":"123"},"imei":"500","toId":"123"}
2025-03-10 17:52:31 -send message == {"appId":10000,"clientType":1,"command":2104,"data":{"clientType":1,"messageBody":"123","appId":10000,"groupId":"123123","imei":"400","messageId":"ddc27487-5e31-46d1-b428-dcc8bb0e032a","fromId":"123"},"imei":"500","toId":"423"}
2025-03-10 17:52:31 -send message == {"appId":10000,"clientType":1,"command":2104,"data":{"clientType":1,"messageBody":"123","appId":10000,"groupId":"123123","imei":"400","messageId":"ddc27487-5e31-46d1-b428-dcc8bb0e032a","fromId":"123"},"imei":"400","toId":"423"}
2025-03-10 17:52:31 -Channel shutdown: channel error; protocol method: #method<channel.close>(reply-code=406, reply-text=PRECONDITION_FAILED - unknown delivery tag 2, class-id=60, method-id=80)
2025-03-10 17:52:31 -Received a frame on an unknown channel, ignoring it
2025-03-10 17:52:31 -Received a frame on an unknown channel, ignoring it
2025-03-10 17:52:31 -Received a frame on an unknown channel, ignoring it
2025-03-10 17:52:32 -Restarting Consumer@67f63d26: tags=[[amq.ctag-vjl7LJpb6zhuc4rc8BpStg]], channel=Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@192.168.111.130:5672/,1), conn: Proxy@67bb4dcd Shared Rabbit Connection: SimpleConnection@10850d17 [delegate=amqp://guest@192.168.111.130:5672/, localPort= 2601], acknowledgeMode=AUTO local queue size=0
2025-03-10 17:52:32 -CHAT MSG FORM QUEUE ::: {"conversationType":1,"clientType":1,"appId":10000,"imei":"400","fromId":"123","command":2106}
2025-03-10 17:52:32 -CHAT MSG FORM QUEUE ::: {"toId":"123","conversationType":1,"clientType":1,"groupId":"123123","appId":10000,"imei":"500","fromId":"423","command":2106}
2025-03-10 17:53:41 -Waiting for workers to finish.
2025-03-10 17:53:42 -Successfully waited for workers to finish.
2025-03-10 17:53:42 -Waiting for workers to finish.
2025-03-10 17:53:43 -Successfully waited for workers to finish.
2025-03-10 17:53:43 -Shutdown ignored - container is not active already
2025-03-10 17:53:43 -Shutdown ignored - container is not active already
2025-03-10 17:53:43 -Shutting down ExecutorService 'applicationTaskExecutor'
2025-03-10 17:53:48 -HikariPool-1 - Shutdown initiated...
2025-03-10 17:53:48 -HikariPool-1 - Shutdown completed.
2025-03-10 19:56:07 -Starting ServiceApplication on LAPTOP-H0PN2NG1 with PID 21080 (F:\JavaProject\im-system\im-service\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 19:56:07 -The following profiles are active: dev
2025-03-10 19:56:08 -Multiple Spring Data modules found, entering strict repository configuration mode!
2025-03-10 19:56:08 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-10 19:56:08 -Finished Spring Data repository scanning in 16ms. Found 0 Redis repository interfaces.
2025-03-10 19:56:08 -Tomcat initialized with port(s): 8000 (http)
2025-03-10 19:56:08 -Initializing ProtocolHandler ["http-nio-8000"]
2025-03-10 19:56:08 -Starting service [Tomcat]
2025-03-10 19:56:08 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 19:56:08 -Initializing Spring embedded WebApplicationContext
2025-03-10 19:56:08 -Root WebApplicationContext: initialization completed in 1353 ms
2025-03-10 19:56:10 -Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'groupChatOperateReceiver': Unsatisfied dependency expressed through field 'p2pMessageService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'p2PMessageService': Unsatisfied dependency expressed through field 'messageStoreService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'messageStoreService': Unsatisfied dependency expressed through field 'messageHistoryMapper'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.stupm.service.message.dao.mapper.MessageHistoryMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-03-10 19:56:10 -Stopping service [Tomcat]
2025-03-10 19:56:10 -

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-03-10 19:56:10 -

***************************
APPLICATION FAILED TO START
***************************

Description:

Field messageHistoryMapper in com.stupm.service.message.service.MessageStoreService required a bean of type 'com.stupm.service.message.dao.mapper.MessageHistoryMapper' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.stupm.service.message.dao.mapper.MessageHistoryMapper' in your configuration.

2025-03-10 19:58:22 -Starting ServiceApplication on LAPTOP-H0PN2NG1 with PID 16232 (F:\JavaProject\im-system\im-service\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 19:58:22 -The following profiles are active: dev
2025-03-10 19:58:22 -Multiple Spring Data modules found, entering strict repository configuration mode!
2025-03-10 19:58:22 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-10 19:58:22 -Finished Spring Data repository scanning in 22ms. Found 0 Redis repository interfaces.
2025-03-10 19:58:23 -Tomcat initialized with port(s): 8000 (http)
2025-03-10 19:58:23 -Initializing ProtocolHandler ["http-nio-8000"]
2025-03-10 19:58:23 -Starting service [Tomcat]
2025-03-10 19:58:23 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 19:58:23 -Initializing Spring embedded WebApplicationContext
2025-03-10 19:58:23 -Root WebApplicationContext: initialization completed in 1127 ms
2025-03-10 19:58:24 -Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'groupChatOperateReceiver': Unsatisfied dependency expressed through field 'p2pMessageService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'p2PMessageService': Unsatisfied dependency expressed through field 'messageStoreService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'messageStoreService': Unsatisfied dependency expressed through field 'messageHistoryMapper'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.stupm.service.message.dao.mapper.MessageHistoryMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-03-10 19:58:24 -Stopping service [Tomcat]
2025-03-10 19:58:24 -

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-03-10 19:58:24 -

***************************
APPLICATION FAILED TO START
***************************

Description:

Field messageHistoryMapper in com.stupm.service.message.service.MessageStoreService required a bean of type 'com.stupm.service.message.dao.mapper.MessageHistoryMapper' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.stupm.service.message.dao.mapper.MessageHistoryMapper' in your configuration.

2025-03-10 19:58:52 -Starting ServiceApplication on LAPTOP-H0PN2NG1 with PID 29816 (F:\JavaProject\im-system\im-service\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 19:58:52 -The following profiles are active: dev
2025-03-10 19:58:53 -Multiple Spring Data modules found, entering strict repository configuration mode!
2025-03-10 19:58:53 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-10 19:58:53 -Finished Spring Data repository scanning in 18ms. Found 0 Redis repository interfaces.
2025-03-10 19:58:53 -Tomcat initialized with port(s): 8000 (http)
2025-03-10 19:58:53 -Initializing ProtocolHandler ["http-nio-8000"]
2025-03-10 19:58:53 -Starting service [Tomcat]
2025-03-10 19:58:53 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 19:58:53 -Initializing Spring embedded WebApplicationContext
2025-03-10 19:58:53 -Root WebApplicationContext: initialization completed in 943 ms
2025-03-10 19:58:54 -Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'groupChatOperateReceiver': Unsatisfied dependency expressed through field 'p2pMessageService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'p2PMessageService': Unsatisfied dependency expressed through field 'messageStoreService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'messageStoreService': Unsatisfied dependency expressed through field 'messageBodyMapper'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.stupm.service.message.dao.mapper.MessageBodyMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-03-10 19:58:55 -Stopping service [Tomcat]
2025-03-10 19:58:55 -

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-03-10 19:58:55 -

***************************
APPLICATION FAILED TO START
***************************

Description:

Field messageBodyMapper in com.stupm.service.message.service.MessageStoreService required a bean of type 'com.stupm.service.message.dao.mapper.MessageBodyMapper' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.stupm.service.message.dao.mapper.MessageBodyMapper' in your configuration.

2025-03-10 19:59:04 -Starting ServiceApplication on LAPTOP-H0PN2NG1 with PID 20784 (F:\JavaProject\im-system\im-service\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 19:59:04 -The following profiles are active: dev
2025-03-10 19:59:05 -Multiple Spring Data modules found, entering strict repository configuration mode!
2025-03-10 19:59:05 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-10 19:59:05 -Finished Spring Data repository scanning in 11ms. Found 0 Redis repository interfaces.
2025-03-10 19:59:05 -Tomcat initialized with port(s): 8000 (http)
2025-03-10 19:59:05 -Initializing ProtocolHandler ["http-nio-8000"]
2025-03-10 19:59:05 -Starting service [Tomcat]
2025-03-10 19:59:05 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 19:59:05 -Initializing Spring embedded WebApplicationContext
2025-03-10 19:59:05 -Root WebApplicationContext: initialization completed in 886 ms
2025-03-10 19:59:07 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 19:59:07 -Starting ProtocolHandler ["http-nio-8000"]
2025-03-10 19:59:07 -Tomcat started on port(s): 8000 (http) with context path ''
2025-03-10 19:59:07 -Attempting to connect to: [192.168.111.130:5672]
2025-03-10 19:59:07 -Created new connection: rabbitConnectionFactory#4437ac07:0/SimpleConnection@77f4c040 [delegate=amqp://guest@192.168.111.130:5672/, localPort= 5543]
2025-03-10 19:59:07 -Started ServiceApplication in 3.271 seconds (JVM running for 3.865)
2025-03-10 19:59:07 -CHAT MSG FORM QUEUE ::: {"toId":"423","clientType":1,"messageBody":"123","appId":10000,"messageId":"9d4a6603-04d7-4fe7-ae5a-2eb7ff4ffb32","imei":"500","fromId":"123","command":1103}
2025-03-10 19:59:07 -HikariPool-1 - Starting...
2025-03-10 19:59:08 -HikariPool-1 - Start completed.
2025-03-10 19:59:08 -msg ack ,msgId:9d4a6603-04d7-4fe7-ae5a-2eb7ff4ffb32,checkResult:30006
2025-03-10 19:59:08 -send message == {"appId":10000,"clientType":1,"command":1046,"data":{"msg":"好友已被拉黑","code":30006,"data":{"messageId":"9d4a6603-04d7-4fe7-ae5a-2eb7ff4ffb32"},"ok":false},"imei":"500","toId":"123"}
2025-03-10 19:59:08 -Channel shutdown: channel error; protocol method: #method<channel.close>(reply-code=406, reply-text=PRECONDITION_FAILED - unknown delivery tag 1, class-id=60, method-id=80)
2025-03-10 19:59:09 -Restarting Consumer@1ca3d25b: tags=[[amq.ctag--Zz3l6BvNW4sQhjNI_wRkg]], channel=Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@192.168.111.130:5672/,2), conn: Proxy@25ffd826 Shared Rabbit Connection: SimpleConnection@77f4c040 [delegate=amqp://guest@192.168.111.130:5672/, localPort= 5543], acknowledgeMode=AUTO local queue size=0
2025-03-10 19:59:35 -CHAT MSG FORM QUEUE ::: {"toId":"423","clientType":1,"messageBody":"123","appId":10000,"messageId":"d63dea08-d3a8-4b74-8519-892d608549aa","imei":"500","fromId":"123","command":1103}
2025-03-10 19:59:35 -处理消息异常:
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
### The error may exist in com/stupm/service/message/dao/mapper/MessageHistoryMapper.java (best guess)
### The error may involve com.stupm.service.message.dao.mapper.MessageHistoryMapper.insertBatchSomeColumn-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO im_message_history (app_id,from_id,to_id,owner_id,message_key,sequence,message_random,message_time,create_time) VALUES    (?,?,?,?,?,?,?,?,?)  ,  (?,?,?,?,?,?,?,?,?)
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
2025-03-10 19:59:35 -Channel shutdown: channel error; protocol method: #method<channel.close>(reply-code=406, reply-text=PRECONDITION_FAILED - unknown delivery tag 1, class-id=60, method-id=80)
2025-03-10 19:59:36 -Restarting Consumer@300e80a0: tags=[[amq.ctag-hCBEl5OJufqBEBN-PE0CWw]], channel=Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@192.168.111.130:5672/,3), conn: Proxy@25ffd826 Shared Rabbit Connection: SimpleConnection@77f4c040 [delegate=amqp://guest@192.168.111.130:5672/, localPort= 5543], acknowledgeMode=AUTO local queue size=0
2025-03-10 20:00:41 -Waiting for workers to finish.
2025-03-10 20:00:42 -Successfully waited for workers to finish.
2025-03-10 20:00:42 -Waiting for workers to finish.
2025-03-10 20:00:42 -Successfully waited for workers to finish.
2025-03-10 20:00:42 -Shutdown ignored - container is not active already
2025-03-10 20:00:42 -Shutdown ignored - container is not active already
2025-03-10 20:00:42 -Shutting down ExecutorService 'applicationTaskExecutor'
2025-03-10 20:00:50 -Starting ServiceApplication on LAPTOP-H0PN2NG1 with PID 33932 (F:\JavaProject\im-system\im-service\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 20:00:50 -The following profiles are active: dev
2025-03-10 20:00:50 -Multiple Spring Data modules found, entering strict repository configuration mode!
2025-03-10 20:00:50 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-10 20:00:50 -Finished Spring Data repository scanning in 13ms. Found 0 Redis repository interfaces.
2025-03-10 20:00:51 -Tomcat initialized with port(s): 8000 (http)
2025-03-10 20:00:51 -Initializing ProtocolHandler ["http-nio-8000"]
2025-03-10 20:00:51 -Starting service [Tomcat]
2025-03-10 20:00:51 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 20:00:51 -Initializing Spring embedded WebApplicationContext
2025-03-10 20:00:51 -Root WebApplicationContext: initialization completed in 969 ms
2025-03-10 20:00:52 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 20:00:53 -Starting ProtocolHandler ["http-nio-8000"]
2025-03-10 20:00:53 -Tomcat started on port(s): 8000 (http) with context path ''
2025-03-10 20:00:53 -Attempting to connect to: [192.168.111.130:5672]
2025-03-10 20:00:53 -Created new connection: rabbitConnectionFactory#19a64eae:0/SimpleConnection@d13baac [delegate=amqp://guest@192.168.111.130:5672/, localPort= 5834]
2025-03-10 20:00:53 -Started ServiceApplication in 3.326 seconds (JVM running for 4.054)
2025-03-10 20:01:10 -CHAT MSG FORM QUEUE ::: {"toId":"423","clientType":1,"messageBody":"123","appId":10000,"messageId":"a38acda5-cfb4-44f9-82aa-8bfa79de5b83","imei":"500","fromId":"123","command":1103}
2025-03-10 20:01:11 -HikariPool-1 - Starting...
2025-03-10 20:01:11 -HikariPool-1 - Start completed.
2025-03-10 20:01:28 -HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=47s778ms793µs500ns).
2025-03-10 20:03:01 -HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=57s22ms53µs600ns).
2025-03-10 20:03:13 -处理消息异常:
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
### The error may exist in com/stupm/service/message/dao/mapper/MessageHistoryMapper.java (best guess)
### The error may involve com.stupm.service.message.dao.mapper.MessageHistoryMapper.insertBatchSomeColumn-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO im_message_history (app_id,from_id,to_id,owner_id,message_key,sequence,message_random,message_time,create_time) VALUES    (?,?,?,?,?,?,?,?,?)  ,  (?,?,?,?,?,?,?,?,?)
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
2025-03-10 20:03:13 -Channel shutdown: channel error; protocol method: #method<channel.close>(reply-code=406, reply-text=PRECONDITION_FAILED - unknown delivery tag 1, class-id=60, method-id=80)
2025-03-10 20:03:14 -Restarting Consumer@6588b715: tags=[[amq.ctag-mHXp7c4w3swi5fpZZIYFWA]], channel=Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@192.168.111.130:5672/,2), conn: Proxy@5ff6dd3c Shared Rabbit Connection: SimpleConnection@d13baac [delegate=amqp://guest@192.168.111.130:5672/, localPort= 5834], acknowledgeMode=AUTO local queue size=0
2025-03-10 20:03:20 -CHAT MSG FORM QUEUE ::: {"toId":"423","clientType":1,"messageBody":"123","appId":10000,"messageId":"85f9adde-15a4-4550-a0cd-981df3cea683","imei":"500","fromId":"123","command":1103}
2025-03-10 20:05:42 -HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m40s993ms837µs700ns).
2025-03-10 20:05:42 -处理消息异常:
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
### The error may exist in com/stupm/service/message/dao/mapper/MessageHistoryMapper.java (best guess)
### The error may involve com.stupm.service.message.dao.mapper.MessageHistoryMapper.insertBatchSomeColumn-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO im_message_history (app_id,from_id,to_id,owner_id,message_key,sequence,message_random,message_time,create_time) VALUES    (?,?,?,?,?,?,?,?,?)  ,  (?,?,?,?,?,?,?,?,?)
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
2025-03-10 20:05:42 -Channel shutdown: channel error; protocol method: #method<channel.close>(reply-code=406, reply-text=PRECONDITION_FAILED - unknown delivery tag 1, class-id=60, method-id=80)
2025-03-10 20:05:43 -Waiting for workers to finish.
2025-03-10 20:05:43 -Restarting Consumer@68489fb9: tags=[[amq.ctag-futmthyu1Pd8phed-AG8GQ]], channel=Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@192.168.111.130:5672/,2), conn: Proxy@5ff6dd3c Shared Rabbit Connection: SimpleConnection@d13baac [delegate=amqp://guest@192.168.111.130:5672/, localPort= 5834], acknowledgeMode=AUTO local queue size=0
2025-03-10 20:05:43 -Successfully waited for workers to finish.
2025-03-10 20:05:43 -Waiting for workers to finish.
2025-03-10 20:05:43 -Successfully waited for workers to finish.
2025-03-10 20:05:43 -Shutdown ignored - container is not active already
2025-03-10 20:05:43 -Shutdown ignored - container is not active already
2025-03-10 20:05:43 -Shutting down ExecutorService 'applicationTaskExecutor'
2025-03-10 20:05:53 -Starting ServiceApplication on LAPTOP-H0PN2NG1 with PID 17156 (F:\JavaProject\im-system\im-service\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 20:05:53 -The following profiles are active: dev
2025-03-10 20:05:54 -Multiple Spring Data modules found, entering strict repository configuration mode!
2025-03-10 20:05:54 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-10 20:05:54 -Finished Spring Data repository scanning in 11ms. Found 0 Redis repository interfaces.
2025-03-10 20:05:54 -Tomcat initialized with port(s): 8000 (http)
2025-03-10 20:05:54 -Initializing ProtocolHandler ["http-nio-8000"]
2025-03-10 20:05:54 -Starting service [Tomcat]
2025-03-10 20:05:54 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 20:05:54 -Initializing Spring embedded WebApplicationContext
2025-03-10 20:05:54 -Root WebApplicationContext: initialization completed in 1110 ms
2025-03-10 20:05:56 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 20:05:56 -Starting ProtocolHandler ["http-nio-8000"]
2025-03-10 20:05:56 -Tomcat started on port(s): 8000 (http) with context path ''
2025-03-10 20:05:56 -Attempting to connect to: [192.168.111.130:5672]
2025-03-10 20:05:56 -Created new connection: rabbitConnectionFactory#31dfc6f5:0/SimpleConnection@28157173 [delegate=amqp://guest@192.168.111.130:5672/, localPort= 6446]
2025-03-10 20:05:56 -Started ServiceApplication in 3.465 seconds (JVM running for 4.192)
2025-03-10 20:06:02 -CHAT MSG FORM QUEUE ::: {"toId":"423","clientType":1,"messageBody":"123","appId":10000,"messageId":"ac51463b-5948-4d84-bd38-c578828a220f","imei":"500","fromId":"123","command":1103}
2025-03-10 20:06:02 -HikariPool-1 - Starting...
2025-03-10 20:06:04 -HikariPool-1 - Start completed.
2025-03-10 20:06:12 -处理消息异常:
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
### The error may exist in com/stupm/service/message/dao/mapper/MessageHistoryMapper.java (best guess)
### The error may involve com.stupm.service.message.dao.mapper.MessageHistoryMapper.insertBatchSomeColumn-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO im_message_history (app_id,from_id,to_id,owner_id,message_key,sequence,message_random,message_time,create_time) VALUES    (?,?,?,?,?,?,?,?,?)  ,  (?,?,?,?,?,?,?,?,?)
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
2025-03-10 20:06:12 -Channel shutdown: channel error; protocol method: #method<channel.close>(reply-code=406, reply-text=PRECONDITION_FAILED - unknown delivery tag 1, class-id=60, method-id=80)
2025-03-10 20:06:13 -Restarting Consumer@2ba1209b: tags=[[amq.ctag-_K1ghbhe6lMb6R3dQIBtDw]], channel=Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@192.168.111.130:5672/,2), conn: Proxy@15d0d6c9 Shared Rabbit Connection: SimpleConnection@28157173 [delegate=amqp://guest@192.168.111.130:5672/, localPort= 6446], acknowledgeMode=AUTO local queue size=0
2025-03-10 20:06:34 -CHAT MSG FORM QUEUE ::: {"toId":"423","clientType":1,"messageBody":"123","appId":10000,"messageId":"f5247de2-889a-4c3a-9ae9-addf4a57a300","imei":"500","fromId":"123","command":1103}
2025-03-10 20:08:58 -HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m19s792ms40µs200ns).
2025-03-10 20:08:58 -An unexpected connection driver error occured (Exception message: Connection reset)
2025-03-10 20:08:58 -Channel shutdown: connection error
2025-03-10 20:08:58 -Channel shutdown: connection error
2025-03-10 20:08:58 -处理消息异常:
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
### The error may exist in com/stupm/service/message/dao/mapper/MessageHistoryMapper.java (best guess)
### The error may involve com.stupm.service.message.dao.mapper.MessageHistoryMapper.insertBatchSomeColumn-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO im_message_history (app_id,from_id,to_id,owner_id,message_key,sequence,message_random,message_time,create_time) VALUES    (?,?,?,?,?,?,?,?,?)  ,  (?,?,?,?,?,?,?,?,?)
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
2025-03-10 20:08:58 -Attempting to connect to: [192.168.111.130:5672]
2025-03-10 20:08:58 -Created new connection: rabbitConnectionFactory#31dfc6f5:1/SimpleConnection@24dc716f [delegate=amqp://guest@192.168.111.130:5672/, localPort= 6947]
2025-03-10 20:08:58 -Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method 'public void com.stupm.service.message.mq.ChatOperateReceiver.onChatMessage(org.springframework.amqp.core.Message,java.util.Map<java.lang.String, java.lang.Object>,com.rabbitmq.client.Channel) throws java.lang.Exception' threw exception
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:228)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:148)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:133)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1591)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1510)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1498)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1489)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1433)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:970)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:916)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:83)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1291)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1197)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.springframework.amqp.AmqpException: PublisherCallbackChannel is closed
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory$CachedChannelInvocationHandler.invoke(CachingConnectionFactory.java:1166)
	at com.sun.proxy.$Proxy111.basicNack(Unknown Source)
	at com.stupm.service.message.mq.ChatOperateReceiver.onChatMessage(ChatOperateReceiver.java:56)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:171)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:53)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:220)
	... 13 common frames omitted
2025-03-10 20:08:58 -Restarting Consumer@3ffb6578: tags=[[amq.ctag-nYqQ8-DWs_4ywbC3dr1rkA]], channel=Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@192.168.111.130:5672/,2), conn: Proxy@15d0d6c9 Shared Rabbit Connection: SimpleConnection@24dc716f [delegate=amqp://guest@192.168.111.130:5672/, localPort= 6947], acknowledgeMode=AUTO local queue size=0
2025-03-10 20:08:58 -CHAT MSG FORM QUEUE ::: {"toId":"423","clientType":1,"messageBody":"123","appId":10000,"messageId":"f5247de2-889a-4c3a-9ae9-addf4a57a300","imei":"500","fromId":"123","command":1103}
2025-03-10 20:09:01 -Restarting Consumer@1eb9a3ef: tags=[[amq.ctag-W4cqOOP_5WyUMV1F9GmTPg]], channel=Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@192.168.111.130:5672/,1), conn: Proxy@15d0d6c9 Shared Rabbit Connection: SimpleConnection@24dc716f [delegate=amqp://guest@192.168.111.130:5672/, localPort= 6947], acknowledgeMode=AUTO local queue size=0
2025-03-10 20:09:01 -处理消息异常:
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
### The error may exist in com/stupm/service/message/dao/mapper/MessageHistoryMapper.java (best guess)
### The error may involve com.stupm.service.message.dao.mapper.MessageHistoryMapper.insertBatchSomeColumn-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO im_message_history (app_id,from_id,to_id,owner_id,message_key,sequence,message_random,message_time,create_time) VALUES    (?,?,?,?,?,?,?,?,?)  ,  (?,?,?,?,?,?,?,?,?)
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
2025-03-10 20:09:01 -Channel shutdown: channel error; protocol method: #method<channel.close>(reply-code=406, reply-text=PRECONDITION_FAILED - unknown delivery tag 1, class-id=60, method-id=80)
2025-03-10 20:09:01 -Received a frame on an unknown channel, ignoring it
2025-03-10 20:09:01 -Received a frame on an unknown channel, ignoring it
2025-03-10 20:09:01 -Received a frame on an unknown channel, ignoring it
2025-03-10 20:09:02 -Restarting Consumer@4e414f43: tags=[[amq.ctag-2tOzsOiK78gBVajDNjNtUQ]], channel=Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@192.168.111.130:5672/,1), conn: Proxy@15d0d6c9 Shared Rabbit Connection: SimpleConnection@24dc716f [delegate=amqp://guest@192.168.111.130:5672/, localPort= 6947], acknowledgeMode=AUTO local queue size=0
2025-03-10 20:09:02 -CHAT MSG FORM QUEUE ::: {"toId":"423","clientType":1,"messageBody":"123","appId":10000,"messageId":"c1476c32-ff4c-433c-8282-235534f52852","imei":"500","fromId":"123","command":1103}
2025-03-10 20:09:04 -处理消息异常:
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
### The error may exist in com/stupm/service/message/dao/mapper/MessageHistoryMapper.java (best guess)
### The error may involve com.stupm.service.message.dao.mapper.MessageHistoryMapper.insertBatchSomeColumn-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO im_message_history (app_id,from_id,to_id,owner_id,message_key,sequence,message_random,message_time,create_time) VALUES    (?,?,?,?,?,?,?,?,?)  ,  (?,?,?,?,?,?,?,?,?)
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
2025-03-10 20:09:04 -Channel shutdown: channel error; protocol method: #method<channel.close>(reply-code=406, reply-text=PRECONDITION_FAILED - unknown delivery tag 1, class-id=60, method-id=80)
2025-03-10 20:09:05 -Restarting Consumer@2308f4a6: tags=[[amq.ctag-0W0lq1b5ofCq08x37oX5pg]], channel=Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@192.168.111.130:5672/,4), conn: Proxy@15d0d6c9 Shared Rabbit Connection: SimpleConnection@24dc716f [delegate=amqp://guest@192.168.111.130:5672/, localPort= 6947], acknowledgeMode=AUTO local queue size=0
2025-03-10 20:09:10 -CHAT MSG FORM QUEUE ::: {"toId":"423","clientType":1,"messageBody":"123","appId":10000,"messageId":"06adb3d2-06b2-4573-b9d5-b9ace1f26ebc","imei":"500","fromId":"123","command":1103}
2025-03-10 20:09:20 -处理消息异常:
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
### The error may exist in com/stupm/service/message/dao/mapper/MessageHistoryMapper.java (best guess)
### The error may involve com.stupm.service.message.dao.mapper.MessageHistoryMapper.insertBatchSomeColumn-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO im_message_history (app_id,from_id,to_id,owner_id,message_key,sequence,message_random,message_time,create_time) VALUES    (?,?,?,?,?,?,?,?,?)  ,  (?,?,?,?,?,?,?,?,?)
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'from_id' in 'field list'
2025-03-10 20:09:20 -Channel shutdown: channel error; protocol method: #method<channel.close>(reply-code=406, reply-text=PRECONDITION_FAILED - unknown delivery tag 1, class-id=60, method-id=80)
2025-03-10 20:09:21 -Restarting Consumer@46f08b74: tags=[[amq.ctag-NXWVNr_TaMdJ9rklXdukFA]], channel=Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@192.168.111.130:5672/,4), conn: Proxy@15d0d6c9 Shared Rabbit Connection: SimpleConnection@24dc716f [delegate=amqp://guest@192.168.111.130:5672/, localPort= 6947], acknowledgeMode=AUTO local queue size=0
2025-03-10 20:10:14 -CHAT MSG FORM QUEUE ::: {"toId":"423","clientType":1,"messageBody":"123","appId":10000,"messageId":"41f57290-0dc9-4e09-9ed8-8ea827be8ae7","imei":"500","fromId":"123","command":1103}
2025-03-10 20:10:19 -msg ack ,msgId:41f57290-0dc9-4e09-9ed8-8ea827be8ae7,checkResult:200
2025-03-10 20:10:20 -send message == {"appId":10000,"clientType":1,"command":1046,"data":{"msg":"success","code":200,"data":{"messageId":"41f57290-0dc9-4e09-9ed8-8ea827be8ae7"},"ok":true},"imei":"500","toId":"123"}
2025-03-10 20:10:20 -send message == {"appId":10000,"clientType":1,"command":1103,"data":{"toId":"423","messageKey":409590176940033,"clientType":1,"messageBody":"123","appId":10000,"imei":"500","messageId":"41f57290-0dc9-4e09-9ed8-8ea827be8ae7","fromId":"123"},"imei":"400","toId":"123"}
2025-03-10 20:10:20 -send message == {"appId":10000,"clientType":1,"command":1103,"data":{"toId":"423","messageKey":409590176940033,"clientType":1,"messageBody":"123","appId":10000,"imei":"500","messageId":"41f57290-0dc9-4e09-9ed8-8ea827be8ae7","fromId":"123"},"imei":"500","toId":"423"}
2025-03-10 20:10:20 -send message == {"appId":10000,"clientType":1,"command":1103,"data":{"toId":"423","messageKey":409590176940033,"clientType":1,"messageBody":"123","appId":10000,"imei":"500","messageId":"41f57290-0dc9-4e09-9ed8-8ea827be8ae7","fromId":"123"},"imei":"400","toId":"423"}
2025-03-10 20:10:20 -Channel shutdown: channel error; protocol method: #method<channel.close>(reply-code=406, reply-text=PRECONDITION_FAILED - unknown delivery tag 1, class-id=60, method-id=80)
2025-03-10 20:10:21 -Restarting Consumer@b5ad077: tags=[[amq.ctag-AfBzq5c1A5JVLpf03ADCMg]], channel=Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@192.168.111.130:5672/,4), conn: Proxy@15d0d6c9 Shared Rabbit Connection: SimpleConnection@24dc716f [delegate=amqp://guest@192.168.111.130:5672/, localPort= 6947], acknowledgeMode=AUTO local queue size=0
2025-03-10 20:21:57 -Waiting for workers to finish.
2025-03-10 20:21:58 -Successfully waited for workers to finish.
2025-03-10 20:21:58 -Waiting for workers to finish.
2025-03-10 20:21:59 -Successfully waited for workers to finish.
2025-03-10 20:21:59 -Shutdown ignored - container is not active already
2025-03-10 20:21:59 -Shutdown ignored - container is not active already
2025-03-10 20:21:59 -Shutting down ExecutorService 'applicationTaskExecutor'
2025-03-10 20:22:04 -HikariPool-1 - Shutdown initiated...
2025-03-10 20:22:04 -HikariPool-1 - Shutdown completed.
2025-03-10 20:22:10 -Starting ServiceApplication on LAPTOP-H0PN2NG1 with PID 27740 (F:\JavaProject\im-system\im-service\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 20:22:10 -The following profiles are active: dev
2025-03-10 20:22:11 -Multiple Spring Data modules found, entering strict repository configuration mode!
2025-03-10 20:22:11 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-10 20:22:11 -Finished Spring Data repository scanning in 11ms. Found 0 Redis repository interfaces.
2025-03-10 20:22:11 -Tomcat initialized with port(s): 8000 (http)
2025-03-10 20:22:11 -Initializing ProtocolHandler ["http-nio-8000"]
2025-03-10 20:22:11 -Starting service [Tomcat]
2025-03-10 20:22:11 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 20:22:11 -Initializing Spring embedded WebApplicationContext
2025-03-10 20:22:11 -Root WebApplicationContext: initialization completed in 1098 ms
2025-03-10 20:22:13 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 20:22:13 -Starting ProtocolHandler ["http-nio-8000"]
2025-03-10 20:22:13 -Tomcat started on port(s): 8000 (http) with context path ''
2025-03-10 20:22:13 -Attempting to connect to: [192.168.111.130:5672]
2025-03-10 20:22:13 -Created new connection: rabbitConnectionFactory#ae202c6:0/SimpleConnection@799f916e [delegate=amqp://guest@192.168.111.130:5672/, localPort= 9230]
2025-03-10 20:22:13 -Started ServiceApplication in 3.522 seconds (JVM running for 4.24)
2025-03-10 20:23:04 -Waiting for workers to finish.
2025-03-10 20:23:05 -Successfully waited for workers to finish.
2025-03-10 20:23:05 -Waiting for workers to finish.
2025-03-10 20:23:06 -Successfully waited for workers to finish.
2025-03-10 20:23:06 -Shutdown ignored - container is not active already
2025-03-10 20:23:06 -Shutdown ignored - container is not active already
2025-03-10 20:23:06 -Shutting down ExecutorService 'applicationTaskExecutor'
2025-03-10 20:23:16 -Starting ServiceApplication on LAPTOP-H0PN2NG1 with PID 20360 (F:\JavaProject\im-system\im-service\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 20:23:16 -The following profiles are active: dev
2025-03-10 20:23:17 -Multiple Spring Data modules found, entering strict repository configuration mode!
2025-03-10 20:23:17 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-10 20:23:17 -Finished Spring Data repository scanning in 11ms. Found 0 Redis repository interfaces.
2025-03-10 20:23:17 -Tomcat initialized with port(s): 8000 (http)
2025-03-10 20:23:17 -Initializing ProtocolHandler ["http-nio-8000"]
2025-03-10 20:23:17 -Starting service [Tomcat]
2025-03-10 20:23:17 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 20:23:17 -Initializing Spring embedded WebApplicationContext
2025-03-10 20:23:17 -Root WebApplicationContext: initialization completed in 1093 ms
2025-03-10 20:23:19 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 20:23:19 -Starting ProtocolHandler ["http-nio-8000"]
2025-03-10 20:23:19 -Tomcat started on port(s): 8000 (http) with context path ''
2025-03-10 20:23:19 -Attempting to connect to: [192.168.111.130:5672]
2025-03-10 20:23:19 -Created new connection: rabbitConnectionFactory#5db6b845:0/SimpleConnection@35d60381 [delegate=amqp://guest@192.168.111.130:5672/, localPort= 9403]
2025-03-10 20:23:19 -Started ServiceApplication in 3.598 seconds (JVM running for 4.341)
2025-03-10 20:23:47 -CHAT MSG FORM QUEUE ::: {"clientType":1,"messageBody":"1231123333","groupId":"123213","appId":10000,"messageId":"d8fb1ecd-05ae-46ee-8d28-d2afd5242cb4","imei":"500","fromId":"123","command":2104}
2025-03-10 20:23:47 -HikariPool-1 - Starting...
2025-03-10 20:23:47 -HikariPool-1 - Start completed.
2025-03-10 20:23:48 -处理消息异常:
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Table 'im.im_group_message_history' doesn't exist
### The error may exist in com/stupm/service/group/dao/mapper/GroupMessageHistoryMapper.java (best guess)
### The error may involve com.stupm.messageStore.dao.mapper.GroupMessageHistoryMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO im_group_message_history  ( app_id, from_id, group_id, message_key,    create_time )  VALUES  ( ?, ?, ?, ?,    ? )
### Cause: java.sql.SQLSyntaxErrorException: Table 'im.im_group_message_history' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'im.im_group_message_history' doesn't exist
2025-03-10 20:23:48 -Channel shutdown: channel error; protocol method: #method<channel.close>(reply-code=406, reply-text=PRECONDITION_FAILED - unknown delivery tag 1, class-id=60, method-id=80)
2025-03-10 20:23:49 -Restarting Consumer@286855ea: tags=[[amq.ctag-tBO-cX7ZPqc3hQ413xG-IA]], channel=Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@192.168.111.130:5672/,1), conn: Proxy@6eb089e6 Shared Rabbit Connection: SimpleConnection@35d60381 [delegate=amqp://guest@192.168.111.130:5672/, localPort= 9403], acknowledgeMode=AUTO local queue size=0
2025-03-10 20:27:03 -CHAT MSG FORM QUEUE ::: {"clientType":1,"messageBody":"1231123333","groupId":"123213","appId":10000,"messageId":"799f94f8-1d76-41cd-82cc-0dbfb1c2f831","imei":"500","fromId":"123","command":2104}
2025-03-10 20:27:03 -msg ack ,msgId:799f94f8-1d76-41cd-82cc-0dbfb1c2f831,checkResult:200
2025-03-10 20:27:04 -send message == {"appId":10000,"clientType":1,"command":2104,"data":{"msg":"success","code":200,"data":{"messageId":"799f94f8-1d76-41cd-82cc-0dbfb1c2f831"},"ok":true},"imei":"500","toId":"123"}
2025-03-10 20:27:04 -send message == {"appId":10000,"clientType":1,"command":2104,"data":{"messageKey":409592288772097,"clientType":1,"messageBody":"1231123333","appId":10000,"groupId":"123213","imei":"500","messageId":"799f94f8-1d76-41cd-82cc-0dbfb1c2f831","fromId":"123"},"imei":"400","toId":"123"}
2025-03-10 20:27:04 -Channel shutdown: channel error; protocol method: #method<channel.close>(reply-code=406, reply-text=PRECONDITION_FAILED - unknown delivery tag 1, class-id=60, method-id=80)
2025-03-10 20:27:04 -Received a frame on an unknown channel, ignoring it
2025-03-10 20:27:04 -Received a frame on an unknown channel, ignoring it
2025-03-10 20:27:04 -Received a frame on an unknown channel, ignoring it
2025-03-10 20:27:05 -Restarting Consumer@764c93e0: tags=[[amq.ctag-_90WHk4N13G7pdpqnsFbPw]], channel=Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@192.168.111.130:5672/,3), conn: Proxy@6eb089e6 Shared Rabbit Connection: SimpleConnection@35d60381 [delegate=amqp://guest@192.168.111.130:5672/, localPort= 9403], acknowledgeMode=AUTO local queue size=0
2025-03-10 20:27:05 -CHAT MSG FORM QUEUE ::: {"conversationType":1,"clientType":1,"appId":10000,"imei":"500","fromId":"123","command":2106}
2025-03-10 20:28:17 -Waiting for workers to finish.
2025-03-10 20:28:17 -Successfully waited for workers to finish.
2025-03-10 20:28:17 -Waiting for workers to finish.
2025-03-10 20:28:17 -Successfully waited for workers to finish.
2025-03-10 20:28:18 -Shutdown ignored - container is not active already
2025-03-10 20:28:18 -Shutdown ignored - container is not active already
2025-03-10 20:28:18 -Shutting down ExecutorService 'applicationTaskExecutor'
2025-03-10 20:28:22 -HikariPool-1 - Shutdown initiated...
2025-03-10 20:28:22 -HikariPool-1 - Shutdown completed.
2025-03-10 21:43:56 -Starting ServiceApplication on LAPTOP-H0PN2NG1 with PID 17504 (F:\JavaProject\im-system\im-service\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 21:43:56 -The following profiles are active: dev
2025-03-10 21:43:57 -Multiple Spring Data modules found, entering strict repository configuration mode!
2025-03-10 21:43:57 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-10 21:43:57 -Finished Spring Data repository scanning in 18ms. Found 0 Redis repository interfaces.
2025-03-10 21:43:57 -Tomcat initialized with port(s): 8000 (http)
2025-03-10 21:43:57 -Initializing ProtocolHandler ["http-nio-8000"]
2025-03-10 21:43:57 -Starting service [Tomcat]
2025-03-10 21:43:57 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 21:43:57 -Initializing Spring embedded WebApplicationContext
2025-03-10 21:43:57 -Root WebApplicationContext: initialization completed in 1349 ms
2025-03-10 21:43:59 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 21:43:59 -Starting ProtocolHandler ["http-nio-8000"]
2025-03-10 21:43:59 -Tomcat started on port(s): 8000 (http) with context path ''
2025-03-10 21:43:59 -Attempting to connect to: [192.168.111.130:5672]
2025-03-10 21:43:59 -Created new connection: rabbitConnectionFactory#663bb8ef:0/SimpleConnection@28157173 [delegate=amqp://guest@192.168.111.130:5672/, localPort= 7458]
2025-03-10 21:43:59 -Started ServiceApplication in 3.915 seconds (JVM running for 4.835)
2025-03-10 21:44:28 -CHAT MSG FORM QUEUE ::: {"clientType":1,"messageBody":"1231123333","groupId":"423","appId":10000,"messageId":"3ca96cfb-3794-4279-b8b8-47403b9cdb1a","imei":"500","fromId":"123","command":2104}
2025-03-10 21:44:28 -HikariPool-1 - Starting...
2025-03-10 21:44:28 -HikariPool-1 - Start completed.
2025-03-10 21:44:28 -msg ack ,msgId:3ca96cfb-3794-4279-b8b8-47403b9cdb1a,checkResult:200
2025-03-10 21:44:29 -send message == {"appId":10000,"clientType":1,"command":2104,"data":{"msg":"success","code":200,"data":{"messageId":"3ca96cfb-3794-4279-b8b8-47403b9cdb1a"},"ok":true},"imei":"500","toId":"123"}
2025-03-10 21:44:29 -send message == {"appId":10000,"clientType":1,"command":2104,"data":{"messageKey":409602030043137,"clientType":1,"messageBody":"1231123333","appId":10000,"groupId":"423","imei":"500","messageId":"3ca96cfb-3794-4279-b8b8-47403b9cdb1a","fromId":"123"},"imei":"400","toId":"123"}
2025-03-10 21:44:29 -Channel shutdown: channel error; protocol method: #method<channel.close>(reply-code=406, reply-text=PRECONDITION_FAILED - unknown delivery tag 1, class-id=60, method-id=80)
2025-03-10 21:44:30 -Restarting Consumer@1eb9a3ef: tags=[[amq.ctag-zhM3Svn2ZYDNJhfJPb28xw]], channel=Cached Rabbit Channel: PublisherCallbackChannelImpl: AMQChannel(amqp://guest@192.168.111.130:5672/,1), conn: Proxy@15d0d6c9 Shared Rabbit Connection: SimpleConnection@28157173 [delegate=amqp://guest@192.168.111.130:5672/, localPort= 7458], acknowledgeMode=AUTO local queue size=0
2025-03-10 21:44:30 -CHAT MSG FORM QUEUE ::: {"conversationType":1,"clientType":1,"appId":10000,"imei":"500","fromId":"123","command":2106}
2025-03-10 21:47:51 -Waiting for workers to finish.
2025-03-10 21:47:52 -Successfully waited for workers to finish.
2025-03-10 21:47:52 -Waiting for workers to finish.
2025-03-10 21:47:52 -Successfully waited for workers to finish.
2025-03-10 21:47:53 -Shutdown ignored - container is not active already
2025-03-10 21:47:53 -Shutdown ignored - container is not active already
2025-03-10 21:47:53 -Shutting down ExecutorService 'applicationTaskExecutor'
2025-03-10 21:47:57 -HikariPool-1 - Shutdown initiated...
2025-03-10 21:47:57 -HikariPool-1 - Shutdown completed.
2025-03-10 22:08:57 -Starting ServiceApplication on LAPTOP-H0PN2NG1 with PID 27936 (F:\JavaProject\im-system\im-service\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 22:08:57 -The following profiles are active: dev
2025-03-10 22:08:57 -Multiple Spring Data modules found, entering strict repository configuration mode!
2025-03-10 22:08:57 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-10 22:08:57 -Finished Spring Data repository scanning in 14ms. Found 0 Redis repository interfaces.
2025-03-10 22:08:58 -Tomcat initialized with port(s): 8000 (http)
2025-03-10 22:08:58 -Initializing ProtocolHandler ["http-nio-8000"]
2025-03-10 22:08:58 -Starting service [Tomcat]
2025-03-10 22:08:58 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 22:08:58 -Initializing Spring embedded WebApplicationContext
2025-03-10 22:08:58 -Root WebApplicationContext: initialization completed in 1176 ms
2025-03-10 22:08:59 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 22:09:00 -Starting ProtocolHandler ["http-nio-8000"]
2025-03-10 22:09:00 -Tomcat started on port(s): 8000 (http) with context path ''
2025-03-10 22:09:00 -Attempting to connect to: [192.168.111.130:5672]
2025-03-10 22:09:00 -Created new connection: rabbitConnectionFactory#1a96d94c:0/SimpleConnection@11dcd42c [delegate=amqp://guest@192.168.111.130:5672/, localPort= 11748]
2025-03-10 22:09:00 -Started ServiceApplication in 3.803 seconds (JVM running for 4.454)
2025-03-10 22:09:08 -Waiting for workers to finish.
2025-03-10 22:09:08 -Successfully waited for workers to finish.
2025-03-10 22:09:08 -Waiting for workers to finish.
2025-03-10 22:09:09 -Successfully waited for workers to finish.
2025-03-10 22:09:09 -Shutdown ignored - container is not active already
2025-03-10 22:09:09 -Shutdown ignored - container is not active already
2025-03-10 22:09:09 -Shutting down ExecutorService 'applicationTaskExecutor'
2025-03-10 22:40:44 -Starting ServerApplication on LAPTOP-H0PN2NG1 with PID 30292 (F:\JavaProject\im-system\im-message-store\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 22:40:44 -The following profiles are active: dev
2025-03-10 22:40:45 -Tomcat initialized with port(s): 8080 (http)
2025-03-10 22:40:45 -Initializing ProtocolHandler ["http-nio-8080"]
2025-03-10 22:40:45 -Starting service [Tomcat]
2025-03-10 22:40:45 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 22:40:45 -Initializing Spring embedded WebApplicationContext
2025-03-10 22:40:45 -Root WebApplicationContext: initialization completed in 841 ms
2025-03-10 22:40:46 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 22:40:46 -Starting ProtocolHandler ["http-nio-8080"]
2025-03-10 22:40:46 -Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2025-03-10 22:40:46 -Shutdown ignored - container is not active already
2025-03-10 22:40:46 -Shutting down ExecutorService 'applicationTaskExecutor'
2025-03-10 22:40:46 -Pausing ProtocolHandler ["http-nio-8080"]
2025-03-10 22:40:46 -Stopping service [Tomcat]
2025-03-10 22:40:46 -Stopping ProtocolHandler ["http-nio-8080"]
2025-03-10 22:40:46 -Destroying ProtocolHandler ["http-nio-8080"]
2025-03-10 22:40:46 -

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-03-10 22:40:46 -

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-03-10 22:42:46 -Starting ServerApplication on LAPTOP-H0PN2NG1 with PID 17048 (F:\JavaProject\im-system\im-message-store\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 22:42:46 -The following profiles are active: dev
2025-03-10 22:42:46 -Tomcat initialized with port(s): 8080 (http)
2025-03-10 22:42:46 -Initializing ProtocolHandler ["http-nio-8080"]
2025-03-10 22:42:46 -Starting service [Tomcat]
2025-03-10 22:42:46 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 22:42:46 -Initializing Spring embedded WebApplicationContext
2025-03-10 22:42:46 -Root WebApplicationContext: initialization completed in 674 ms
2025-03-10 22:42:47 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 22:42:48 -Starting ProtocolHandler ["http-nio-8080"]
2025-03-10 22:42:48 -Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2025-03-10 22:42:48 -Shutdown ignored - container is not active already
2025-03-10 22:42:48 -Shutting down ExecutorService 'applicationTaskExecutor'
2025-03-10 22:42:48 -Pausing ProtocolHandler ["http-nio-8080"]
2025-03-10 22:42:48 -Stopping service [Tomcat]
2025-03-10 22:42:48 -Stopping ProtocolHandler ["http-nio-8080"]
2025-03-10 22:42:48 -Destroying ProtocolHandler ["http-nio-8080"]
2025-03-10 22:42:48 -

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-03-10 22:42:48 -

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-03-10 22:43:23 -Starting ServerApplication on LAPTOP-H0PN2NG1 with PID 30732 (F:\JavaProject\im-system\im-message-store\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 22:43:23 -The following profiles are active: dev
2025-03-10 22:43:24 -Tomcat initialized with port(s): 8080 (http)
2025-03-10 22:43:24 -Initializing ProtocolHandler ["http-nio-8080"]
2025-03-10 22:43:24 -Starting service [Tomcat]
2025-03-10 22:43:24 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 22:43:24 -Initializing Spring embedded WebApplicationContext
2025-03-10 22:43:24 -Root WebApplicationContext: initialization completed in 686 ms
2025-03-10 22:43:25 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 22:43:25 -Starting ProtocolHandler ["http-nio-8080"]
2025-03-10 22:43:25 -Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2025-03-10 22:43:25 -Shutdown ignored - container is not active already
2025-03-10 22:43:25 -Shutting down ExecutorService 'applicationTaskExecutor'
2025-03-10 22:43:25 -Pausing ProtocolHandler ["http-nio-8080"]
2025-03-10 22:43:25 -Stopping service [Tomcat]
2025-03-10 22:43:25 -Stopping ProtocolHandler ["http-nio-8080"]
2025-03-10 22:43:25 -Destroying ProtocolHandler ["http-nio-8080"]
2025-03-10 22:43:25 -

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-03-10 22:43:25 -

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-03-10 22:44:14 -Starting ServerApplication on LAPTOP-H0PN2NG1 with PID 19692 (F:\JavaProject\im-system\im-message-store\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 22:44:14 -The following profiles are active: dev
2025-03-10 22:44:15 -Tomcat initialized with port(s): 8080 (http)
2025-03-10 22:44:15 -Initializing ProtocolHandler ["http-nio-8080"]
2025-03-10 22:44:15 -Starting service [Tomcat]
2025-03-10 22:44:15 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 22:44:15 -Initializing Spring embedded WebApplicationContext
2025-03-10 22:44:15 -Root WebApplicationContext: initialization completed in 652 ms
2025-03-10 22:44:16 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 22:44:16 -Starting ProtocolHandler ["http-nio-8080"]
2025-03-10 22:44:16 -Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2025-03-10 22:44:16 -Shutdown ignored - container is not active already
2025-03-10 22:44:16 -Shutting down ExecutorService 'applicationTaskExecutor'
2025-03-10 22:44:16 -Pausing ProtocolHandler ["http-nio-8080"]
2025-03-10 22:44:16 -Stopping service [Tomcat]
2025-03-10 22:44:16 -Stopping ProtocolHandler ["http-nio-8080"]
2025-03-10 22:44:16 -Destroying ProtocolHandler ["http-nio-8080"]
2025-03-10 22:44:16 -

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-03-10 22:44:16 -

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-03-10 22:45:07 -Starting ServerApplication on LAPTOP-H0PN2NG1 with PID 32904 (F:\JavaProject\im-system\im-message-store\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 22:45:07 -The following profiles are active: dev
2025-03-10 22:45:07 -Tomcat initialized with port(s): 8001 (http)
2025-03-10 22:45:07 -Initializing ProtocolHandler ["http-nio-8001"]
2025-03-10 22:45:07 -Starting service [Tomcat]
2025-03-10 22:45:07 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 22:45:07 -Initializing Spring embedded WebApplicationContext
2025-03-10 22:45:07 -Root WebApplicationContext: initialization completed in 681 ms
2025-03-10 22:45:08 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 22:45:08 -Starting ProtocolHandler ["http-nio-8001"]
2025-03-10 22:45:08 -Tomcat started on port(s): 8001 (http) with context path ''
2025-03-10 22:45:08 -Attempting to connect to: [localhost:5672]
2025-03-10 22:45:08 -Created new connection: rabbitConnectionFactory#715d6168:0/SimpleConnection@673919a7 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 3576]
2025-03-10 22:45:09 -Started ServerApplication in 2.321 seconds (JVM running for 2.914)
2025-03-10 22:45:12 -Starting ServiceApplication on LAPTOP-H0PN2NG1 with PID 23988 (F:\JavaProject\im-system\im-service\target\classes started by 张旭阳 in F:\JavaProject\im-system)
2025-03-10 22:45:12 -The following profiles are active: dev
2025-03-10 22:45:13 -Multiple Spring Data modules found, entering strict repository configuration mode!
2025-03-10 22:45:13 -Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-10 22:45:13 -Finished Spring Data repository scanning in 11ms. Found 0 Redis repository interfaces.
2025-03-10 22:45:13 -Tomcat initialized with port(s): 8000 (http)
2025-03-10 22:45:13 -Initializing ProtocolHandler ["http-nio-8000"]
2025-03-10 22:45:13 -Starting service [Tomcat]
2025-03-10 22:45:13 -Starting Servlet engine: [Apache Tomcat/9.0.37]
2025-03-10 22:45:13 -Initializing Spring embedded WebApplicationContext
2025-03-10 22:45:13 -Root WebApplicationContext: initialization completed in 903 ms
2025-03-10 22:45:15 -Initializing ExecutorService 'applicationTaskExecutor'
2025-03-10 22:45:15 -Starting ProtocolHandler ["http-nio-8000"]
2025-03-10 22:45:15 -Tomcat started on port(s): 8000 (http) with context path ''
2025-03-10 22:45:15 -Attempting to connect to: [192.168.111.130:5672]
2025-03-10 22:45:15 -Created new connection: rabbitConnectionFactory#60e9c3a5:0/SimpleConnection@7698b7a4 [delegate=amqp://guest@192.168.111.130:5672/, localPort= 3593]
2025-03-10 22:45:15 -Started ServiceApplication in 3.105 seconds (JVM running for 3.715)
2025-03-10 22:46:22 -Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-10 22:46:22 -Initializing Servlet 'dispatcherServlet'
2025-03-10 22:46:22 -Completed initialization in 7 ms
2025-03-10 22:46:56 -Waiting for workers to finish.
2025-03-10 22:46:56 -Waiting for workers to finish.
2025-03-10 22:46:56 -Successfully waited for workers to finish.
2025-03-10 22:46:56 -Shutdown ignored - container is not active already
2025-03-10 22:46:57 -Successfully waited for workers to finish.
2025-03-10 22:46:57 -Waiting for workers to finish.
2025-03-10 22:46:58 -Successfully waited for workers to finish.
2025-03-10 22:46:58 -Shutdown ignored - container is not active already
2025-03-10 22:46:58 -Shutdown ignored - container is not active already
2025-03-10 22:46:58 -Shutting down ExecutorService 'applicationTaskExecutor'
